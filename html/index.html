<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            text-align: center;
            margin: 50px;
            background-color: #8ac1b1;
        }
        h1, h3, p, label, input {
            margin-bottom: 20px;
        }
        .landing-page {
            display: block;
        }
    </style>
</head>
<body>
    <div class="landing-page">
        <h1>WORD GAME</h1>
        <img src="https://media.giphy.com/media/3o7aCTXVcHJgJ4yoeI/giphy.gif" alt="Pirate">
        <h3>Type your Name to Enter the Lobby</h3>
        <form id="nameForm">
            <label for="playerName">First Name:</label><br>
            <input type="text" id="playerName" name="playerName" required><br>
            <input type="submit" value="Join">
        </form>
    </div>
    
    <script>
        // Establish WebSocket connection when the page loads
        var serverUrl = 'ws://' + window.location.hostname + ':9124';
        var socket = new WebSocket(serverUrl);
        var playerNames = [];

        socket.onopen = function() {
            console.log('Connected to server');
        };

        document.getElementById('nameForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const playerName = document.getElementById("playerName").value;

           
            
            playerNames.push(playerName);
            //sessionStorage.setItem('playerNames', JSON.stringify(playerNames));
            sessionStorage.setItem('playerName', playerName);
            //console.log('Player names:', playerNames);
            socket.send(JSON.stringify({ type: 'newPlayer', playerName: playerName }));
            // Redirect to lobby page
            window.location.href = "Lobby.html";
        });
    </script>
</body>
</html>
